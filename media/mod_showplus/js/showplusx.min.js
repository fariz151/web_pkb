(function(){/*
 showplusx: a performance-optimized slideshow engine
 @author  Levente Hunyadi
 @version 1.0
 @remarks Copyright (C) 2009-2017 Levente Hunyadi
 @remarks Licensed under GNU/GPLv3, see https://www.gnu.org/licenses/gpl-3.0.html
 @see     https://hunyadi.info.hu/projects/showplusx
*/
'use strict';function h(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var m="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};
function p(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");}var q=p(this);function t(a,b){if(b)a:{var d=q;a=a.split(".");for(var c=0;c<a.length-1;c++){var e=a[c];if(!(e in d))break a;d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&null!=b&&m(d,a,{configurable:!0,writable:!0,value:b})}}
t("Symbol",function(a){function b(e){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new d("jscomp_symbol_"+(e||"")+"_"+c++,e)}function d(e,f){this.a=e;m(this,"description",{configurable:!0,writable:!0,value:f})}if(a)return a;d.prototype.toString=function(){return this.a};var c=0;return b});
t("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),d=0;d<b.length;d++){var c=q[b[d]];"function"===typeof c&&"function"!=typeof c.prototype[a]&&m(c.prototype,a,{configurable:!0,writable:!0,value:function(){return u(h(this))}})}return a});function u(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
function v(a,b){a instanceof String&&(a+="");var d=0,c={next:function(){if(d<a.length){var e=d++;return{value:b(e,a[e]),done:!1}}c.next=function(){return{done:!0,value:void 0}};return c.next()}};c[Symbol.iterator]=function(){return c};return c}t("Array.prototype.keys",function(a){return a?a:function(){return v(this,function(b){return b})}});
var y={src:"",thumbsrc:"",caption:"hidden",title:"",href:"",target:"_blank"},z={items:[],order:"normal",effects:function(a){var b=[];Object.keys(a).forEach(function(d){a[d].forEach(function(c){b.push(d+"-"+c)})});return b}({fade:["fade"],fold:["left","right"],push:["left","right","top","bottom"],circle:["circle"],kenburns:["topleft","topright","bottomright","bottomleft"]}),defaults:y,navigation:"hidden",dir:"ltr"};
function C(a,b){a=a||{};for(var d in JSON.parse(JSON.stringify(b)))a[d]=a[d]||b[d];return a}function D(a,b){a=a.classList;b?a.remove("showplusx-hidden"):a.add("showplusx-hidden")}function E(a,b,d){var c=a.classList;d.forEach(function(e){c.remove("showplusx-animation-"+e)});b.forEach(function(e){c.add("showplusx-animation-"+e)})}function F(){}F.prototype.url=null;F.prototype.width=0;F.prototype.height=0;
function G(a,b){this.a=C(b,z);this.a.defaults=C(this.a.defaults,y);var d=this;this.cache={};this.c=0;b=document.createElement("div");b.classList.add("showplusx-slideshow");b.dir=this.a.dir;this.i=b;var c=document.createElement("div");c.classList.add("showplusx-viewport");this.f=c;var e=document.createElement("div");e.classList.add("showplusx-caption");e.addEventListener("animationend",function(){E(e,[],["in"])});this.j=e;var f=document.createElement("div");f.classList.add("showplusx-navigation");
f.classList.add("showplusx-"+this.a.navigation);var g=this.a.items,r=g.length;0<r&&(g.forEach(function(A,B){var l=document.createElement("a"),n=l.classList;n.add("showplusx-item");n.add("showplusx-hidden");l.addEventListener("animationend",function(){if(n.contains("showplusx-animation-in"))E(l,["show"],["in"]);else if(n.contains("showplusx-animation-show")){if(E(l,["out"],["show"]),D(e,!1),n.contains("showplusx-current"))switch(d.a.order){case "normal":d.next();break;case "reverse":d.g();break;case "random":var w=
Math.floor(Math.random()*(r-1-1+1));d.b(w>=B?w+1:w)}}else n.contains("showplusx-animation-out")&&(E(l,[],["out"]),D(l,!1))},!1);c.appendChild(l);var x=document.createElement("span");x.style.backgroundImage='url("'+(A.thumbsrc||A.src).replace(/[\n\r\f]/g,"").replace(/(["\\])/g,"\\$1")+'")';x.addEventListener("click",function(){d.b(B)},!1);f.appendChild(x)}),this.h());b.appendChild(c);g=document.createElement("div");g.classList.add("showplusx-previous");g.addEventListener("click",function(){d.g()},
!1);var k=document.createElement("div");k.classList.add("showplusx-next");k.addEventListener("click",function(){d.next()},!1);b.appendChild(g);b.appendChild(k);b.appendChild(e);b.appendChild(f);a.appendChild(b)}window.ShowPlusXSlideshow=G;G.prototype.m=function(){var a=this.i;a.parentNode.removeChild(a);this.i=null};G.prototype.destroy=G.prototype.m;function H(a){var b=a.a.items;a=a.c-1;0>a&&(a=b.length-1);return a}function I(a){var b=a.c+1;b>=a.a.items.length&&(b=0);return b}G.prototype.h=function(){this.b(0)};
G.prototype.first=G.prototype.h;G.prototype.g=function(){this.b(H(this))};G.prototype.previous=G.prototype.g;G.prototype.next=function(){this.b(I(this))};G.prototype.next=G.prototype.next;G.prototype.b=function(a){this.f.children[this.c].classList.remove("showplusx-current");this.load(a,this.l.bind(this,a))};G.prototype.display=G.prototype.b;
G.prototype.l=function(a){function b(g,r){var k=g.substr(0,g.indexOf("-"));r?(k&&d.add("showplusx-"+k),d.add("showplusx-"+g)):(k&&d.remove("showplusx-"+k),d.remove("showplusx-"+g))}this.load(H(this));this.load(I(this));var d=this.f.classList,c=this.a.effects;c.forEach(function(g){b(g,!1)});(c=c[Math.floor(Math.random()*(c.length-1+1))])&&b(c,!0);c=this.f.children[a];var e=C(this.a.items[a],this.a.defaults),f=this.cache[e.src].url;e.href?c.href=e.href:c.removeAttribute("href");e.target?c.target=e.target:
c.removeAttribute("target");c.style.setProperty("background-image",'url("'+f+'")');f=this.j;f.innerHTML=e.title;f.classList.remove("showplusx-caption-top");f.classList.remove("showplusx-caption-bottom");f.classList.add("showplusx-caption-"+e.caption);this.c=a;c.classList.add("showplusx-current");E(c,["in"],["out","show"]);E(f,["in"],[]);D(c,!0);D(f,!0)};
G.prototype.load=function(a,b){var d=b||new Function,c=this.a.items[a].src;if(this.cache.hasOwnProperty(c))d(this.cache[c]);else{var e=this,f=new F,g=document.createElement("img");g.addEventListener("load",function(){f.url=g.src;f.width=g.width;f.height=g.height;e.cache[c]=f;d(f)},!1);g.addEventListener("error",function(){e.cache[c]=f;d(f)},!1);g.src=c}};}).call(this);
